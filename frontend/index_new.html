<!DOCTYPE html>
<html>
<head>
    <title>Trading Assistant</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles.css">
    <script src="https://unpkg.com/lightweight-charts@4.1.3/dist/lightweight-charts.standalone.production.js"></script>
</head>

<body>

<div class="app-wrapper">
    
    <!-- HEADER -->
    <header class="app-header">
        <div class="header-left">
            <span class="logo-icon">üìä</span>
            <span class="logo-text">Trading Assistant</span>
        </div>
        <div class="header-right">
            <div class="current-symbol-display" id="currentSymbolDisplay">
                <span class="symbol-badge">NIFTY 50</span>
            </div>
            <div class="timeframe-selector">
                <button class="tf-btn active" data-interval="1">1m</button>
                <button class="tf-btn" data-interval="3">3m</button>
                <button class="tf-btn" data-interval="5">5m</button>
            </div>
        </div>
    </header>

    <!-- MAIN LAYOUT WITH SIDEBAR -->
    <div class="dashboard-layout">
        
        <!-- LEFT SIDEBAR -->
        <aside class="left-sidebar">
            
            <!-- NIFTY QUICK VIEW (CLICKABLE) -->
            <div class="sidebar-card nifty-card active-symbol" id="niftyCard">
                <div class="nifty-header">
                    <h3 class="sidebar-title">üìà NIFTY 50</h3>
                    <div class="active-indicator">‚óè</div>
                </div>
                <div class="nifty-price-info">
                    <div class="nifty-price" id="niftyPrice">‚Çπ26,202.95</div>
                    <div class="nifty-change" id="niftyChange">+12.50 (+0.05%)</div>
                </div>
                <div class="nifty-mini-chart" id="niftyMiniChart">
                    <!-- Mini sparkline will be generated here -->
                </div>
                <div class="nifty-click-hint">Click to view full analysis</div>
            </div>

            <!-- GLOBAL MARKETS -->
            <div class="sidebar-card">
                <h3 class="sidebar-title">üåç Global Markets</h3>
                <div class="global-list">
                    <div class="global-item">
                        <span class="global-name">Gift Nifty</span>
                        <span class="global-value" id="giftNifty">--</span>
                    </div>
                    <div class="global-item">
                        <span class="global-name">Nasdaq</span>
                        <span class="global-value" id="nasdaq">--</span>
                    </div>
                    <div class="global-item">
                        <span class="global-name">Crude Oil</span>
                        <span class="global-value" id="crude">--</span>
                    </div>
                    <div class="global-item">
                        <span class="global-name">USD/INR</span>
                        <span class="global-value" id="usdinr">--</span>
                    </div>
                </div>
            </div>

            <!-- MARKET REGIME -->
            <div class="sidebar-card">
                <h3 class="sidebar-title">üìä Market Regime</h3>
                <div class="regime-info">
                    <div class="regime-label" id="regimeLabel">Normal Volatility</div>
                    <div class="regime-desc" id="regimeDesc">Market is trading normally</div>
                </div>
            </div>

            <!-- OPTIONS SIGNAL -->
            <div class="sidebar-card">
                <h3 class="sidebar-title">üìà Options Signal</h3>
                <div class="options-info">
                    <div class="opt-row">
                        <span class="opt-label">Action:</span>
                        <span class="opt-value" id="optAction">--</span>
                    </div>
                    <div class="opt-row">
                        <span class="opt-label">Strike:</span>
                        <span class="opt-value" id="optStrike">--</span>
                    </div>
                    <div class="opt-row">
                        <span class="opt-label">IV:</span>
                        <span class="opt-value" id="optIV">--</span>
                    </div>
                    <div class="opt-row">
                        <span class="opt-label">OI Sentiment:</span>
                        <span class="opt-value" id="optOI">--</span>
                    </div>
                </div>
            </div>

        </aside>

        <!-- MAIN CONTENT -->
        <main class="main-content">
        
        <!-- STOCKS SELECTION PANEL -->
        <div class="stocks-panel">
            <div class="stocks-panel-header">
                <h2 class="panel-title">üìä Stock Watchlist</h2>
                
                <!-- Sector Tabs -->
                <div class="sector-tabs">
                    <button class="sector-tab active" data-sector="all">All</button>
                    <button class="sector-tab" data-sector="banks">Banks</button>
                    <button class="sector-tab" data-sector="it">IT</button>
                    <button class="sector-tab" data-sector="pharma">Pharma</button>
                    <button class="sector-tab" data-sector="auto">Auto</button>
                    <button class="sector-tab" data-sector="fmcg">FMCG</button>
                    <button class="sector-tab" data-sector="financial">Financial</button>
                    <button class="sector-tab" data-sector="energy">Energy</button>
                    <button class="sector-tab" data-sector="infra">Infra</button>
                </div>
            </div>

            <!-- Stocks Grid -->
            <div id="stocksGrid" class="stocks-grid">
                <!-- Stocks will be loaded dynamically -->
            </div>
        </div>

        <!-- ANALYSIS SECTION (Shows when stock/NIFTY is selected) -->
        <div class="analysis-section" id="analysisSection">
            
            <!-- BIG ACTION CARD -->
            <div id="mainAction" class="main-action-card">
                <div class="action-title" id="actionTitle">Wait</div>
                <div class="action-meta">
                    <span class="conf-badge" id="confBadge">Confidence: 29%</span>
                    <span class="ml-badge" id="mlBadge">AI Predicts: Up</span>
                </div>
                <div class="action-summary" id="actionSummary">
                    Market is calm but unclear. Waiting for stronger signals.
                </div>
            </div>

            <!-- PRICE + CHART SECTION -->
            <div class="chart-section">
                <div class="price-header">
                    <div class="price-info">
                        <div class="price-label" id="priceLabel">NIFTY 50</div>
                        <div class="price-value" id="priceValue">‚Çπ26,202.95</div>
                        <div class="price-change" id="priceChange">+12.50 (+0.05%)</div>
                    </div>
                    <div class="chart-status" id="chartStatus">
                        <span class="status-dot"></span> Live
                    </div>
                </div>
                <div id="mainChart" class="main-chart"></div>
            </div>

            <!-- PREDICTIONS GRID -->
            <div class="predictions-section">
                <h3 class="section-title">üéØ AI Predictions - Next Move</h3>
                <div class="predictions-grid">
                    <div class="pred-card">
                        <div class="pred-timeframe">Next 1 Candle</div>
                        <div class="pred-result" id="pred1">
                            <span class="pred-arrow">‚ÜóÔ∏è</span>
                            <span class="pred-percent">71%</span>
                            <span class="pred-label">Likely Up</span>
                        </div>
                    </div>
                    <div class="pred-card">
                        <div class="pred-timeframe">Next 3 Candles</div>
                        <div class="pred-result" id="pred3">
                            <span class="pred-arrow">‚ÜóÔ∏è</span>
                            <span class="pred-percent">68%</span>
                            <span class="pred-label">Likely Up</span>
                        </div>
                    </div>
                    <div class="pred-card">
                        <div class="pred-timeframe">Next 5 Candles</div>
                        <div class="pred-result" id="pred5">
                            <span class="pred-arrow">‚Üí</span>
                            <span class="pred-percent">52%</span>
                            <span class="pred-label">Uncertain</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- WHY THIS SIGNAL? -->
            <div class="reasoning-section">
                <h3 class="section-title">üí° Why This Signal?</h3>
                <div id="reasonsList" class="reasons-list">
                    <div class="reason-item">
                        <span class="reason-icon">üìä</span>
                        <div class="reason-text">
                            <strong>Market Momentum:</strong> Price is moving down but close to bottom - might bounce back soon
                        </div>
                    </div>
                    <div class="reason-item">
                        <span class="reason-icon">‚ö°</span>
                        <div class="reason-text">
                            <strong>Low Activity:</strong> Very little movement right now - price may jump randomly
                        </div>
                    </div>
                    <div class="reason-item">
                        <span class="reason-icon">üìè</span>
                        <div class="reason-text">
                            <strong>Tight Range:</strong> Price stuck in narrow range - no clear direction yet
                        </div>
                    </div>
                </div>
            </div>

            <!-- MARKET OVERVIEW -->
            <div class="market-overview">
                <h3 class="section-title">üìà Market Overview</h3>
                <div class="overview-grid">
                    <div class="overview-card">
                        <div class="overview-icon">üòä</div>
                        <div class="overview-label">Overall Mood</div>
                        <div class="overview-value" id="marketMood">Bearish</div>
                    </div>
                    <div class="overview-card">
                        <div class="overview-icon">üì∞</div>
                        <div class="overview-label">News Tone</div>
                        <div class="overview-value" id="newsSentiment">Mixed</div>
                    </div>
                    <div class="overview-card">
                        <div class="overview-icon">‚ö°</div>
                        <div class="overview-label">Volatility</div>
                        <div class="overview-value" id="vixValue">Low (11.62)</div>
                    </div>
                    <div class="overview-card">
                        <div class="overview-icon">üí∞</div>
                        <div class="overview-label">Big Money Flow</div>
                        <div class="overview-value" id="fiiFlow">Checking...</div>
                    </div>
                </div>
            </div>

            <!-- TOP HEADLINES -->
            <div class="headlines-section">
                <h3 class="section-title">üì∞ Latest News</h3>
                <ul id="headlinesList" class="headlines-list">
                    <li>Loading headlines...</li>
                </ul>
            </div>

        </div>

        </main>
        
    </div>

</div>

<script src="script.js"></script>
</body>
</html>
